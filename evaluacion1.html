<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EvaluaciÃ³n Curso 1</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>

  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #fff0f5, #f9bdcf, #fcabc6);
      background-attachment: fixed;
      padding: 30px 10px;
      position: relative;
    }

    h2 {
      text-align: center;
      color: #880e4f;
      margin-bottom: 30px;
      font-weight: bold;
      text-shadow: 1px 1px 2px #ffd6e8;
    }

    .card.question {
      border-radius: 20px;
      border: none;
      background: #ffffff;
      box-shadow: 0 6px 15px rgba(136, 14, 79, 0.1);
      margin-bottom: 25px;
      transition: transform 0.3s ease;
    }

    .card.question:hover {
      transform: scale(1.01);
    }

    .card-header {
      background-color: #f8bbd0;
      color: #880e4f;
      font-weight: bold;
      font-size: 1.1rem;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }

    .form-control, .form-select {
      border-radius: 25px;
      border: 1px solid #f8bbd0;
    }

    .form-control:focus, .form-select:focus {
      box-shadow: 0 0 8px rgba(236, 64, 122, 0.4);
    }

    .btn-submit {
      background-color: #ec407a;
      color: white;
      padding: 12px 30px;
      border-radius: 30px;
      display: block;
      margin: 30px auto 20px;
      font-weight: bold;
      border: none;
      transition: background-color 0.3s ease;
    }

    .btn-submit:hover {
      background-color: #d81b60;
    }

    .feedback {
      margin-top: 15px;
      padding: 12px;
      border-radius: 10px;
    }

    .feedback.correct {
      background-color: #e8f5e9;
      color: #388e3c;
    }

    .feedback.incorrect {
      background-color: #ffebee;
      color: #c62828;
    }

    #resultFinal {
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
      margin-top: 20px;
    }

    #nextCourse {
      display: none;
      background-color: #66bb6a;
      color: white;
      border-radius: 25px;
      padding: 10px 30px;
      text-align: center;
      margin: 20px auto;
      text-decoration: none;
      font-weight: bold;
    }

    #nextCourse:hover {
      background-color: #43a047;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>ðŸ“˜ EvaluaciÃ³n del Curso 1</h2>
    <form id="quizForm">

      <!-- PREGUNTAS -->
      <div class="card question"><div class="card-header"><i class="fas fa-heartbeat me-2"></i>1. Â¿QuÃ© es salud sexual?</div><div class="card-body"><input type="text" name="q1" class="form-control" data-correct="bienestar fÃ­sico, emocional y social"></div></div>
      <div class="card question"><div class="card-header"><i class="fas fa-comments me-2"></i>2. Â¿QuÃ© significa consentimiento?</div><div class="card-body"><input type="text" name="q2" class="form-control" data-correct="acuerdo libre e informado"></div></div>
      <div class="card question"><div class="card-header"><i class="fas fa-scale-balanced me-2"></i>3. Â¿CuÃ¡l de los siguientes es un derecho sexual?</div><div class="card-body">
        <select class="form-select" name="q3" data-correct="b">
          <option value="">Selecciona una opciÃ³n</option>
          <option value="a">Tener hijos obligatoriamente</option>
          <option value="b">Elegir libremente tu pareja sexual</option>
          <option value="c">Ocultar informaciÃ³n de salud</option>
        </select></div></div>
      <div class="card question"><div class="card-header"><i class="fas fa-question-circle me-2"></i>4. El respeto solo es importante en relaciones amorosas.</div><div class="card-body">
        <select class="form-select" name="q4" data-correct="false">
          <option value="">Selecciona</option>
          <option value="true">Verdadero</option>
          <option value="false">Falso</option>
        </select></div></div>
      <div class="card question"><div class="card-header"><i class="fas fa-shield-heart me-2"></i>5. Factores que protegen tu salud sexual</div><div class="card-body">
        <div class="form-check"><input type="checkbox" class="form-check-input" name="q5" value="informaciÃ³n" id="q5a"><label class="form-check-label" for="q5a">InformaciÃ³n confiable</label></div>
        <div class="form-check"><input type="checkbox" class="form-check-input" name="q5" value="presiÃ³n" id="q5b"><label class="form-check-label" for="q5b">PresiÃ³n social</label></div>
        <div class="form-check"><input type="checkbox" class="form-check-input" name="q5" value="comunicaciÃ³n" id="q5c"><label class="form-check-label" for="q5c">ComunicaciÃ³n abierta</label></div>
      </div></div>

      <!-- PREGUNTAS ABIERTAS -->
      <div class="card question"><div class="card-header">6. Â¿QuÃ© es el embarazo no planificado?</div><div class="card-body"><input type="text" name="q6" class="form-control"></div></div>
      <div class="card question"><div class="card-header">7. Â¿QuÃ© rol tienen los centros de salud?</div><div class="card-body"><input type="text" name="q7" class="form-control"></div></div>
      <div class="card question"><div class="card-header">8. Â¿QuÃ© es el bienestar emocional?</div><div class="card-body"><input type="text" name="q8" class="form-control"></div></div>
      <div class="card question"><div class="card-header">9. Â¿CÃ³mo se relaciona la libertad con la sexualidad?</div><div class="card-body"><input type="text" name="q9" class="form-control"></div></div>
      <div class="card question"><div class="card-header">10. Â¿QuÃ© es el autocuidado sexual?</div><div class="card-body"><input type="text" name="q10" class="form-control"></div></div>
      <div class="card question"><div class="card-header">11. Menciona una forma de protecciÃ³n contra ITS</div><div class="card-body"><input type="text" name="q11" class="form-control"></div></div>
      <div class="card question"><div class="card-header">12. Â¿QuÃ© significa identidad de gÃ©nero?</div><div class="card-body"><input type="text" name="q12" class="form-control"></div></div>
      <div class="card question"><div class="card-header">13. Â¿QuÃ© es orientaciÃ³n sexual?</div><div class="card-body"><input type="text" name="q13" class="form-control"></div></div>
      <div class="card question"><div class="card-header">14. Â¿Por quÃ© es importante la educaciÃ³n sexual desde jÃ³venes?</div><div class="card-body"><input type="text" name="q14" class="form-control"></div></div>
      <div class="card question"><div class="card-header">15. Â¿QuÃ© harÃ­as si un amigo te cuenta que sufriÃ³ abuso?</div><div class="card-body"><input type="text" name="q15" class="form-control"></div></div>

      <button type="submit" class="btn btn-submit">Enviar respuestas</button>
    </form>

    <div id="resultFinal"></div>
    <a href="curso2.html" id="nextCourse">Ir al Curso 2</a>
  </div>

  <script>
    document.getElementById("quizForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const form = e.target;
      let total = 15;
      let correctas = 0;

      // Limpiar retroalimentaciÃ³n anterior
      document.querySelectorAll(".feedback").forEach(f => f.remove());

      const preguntas = form.querySelectorAll(".form-control, .form-select");
      preguntas.forEach(p => {
        const correct = (p.dataset.correct || "").toLowerCase();
        const valor = p.value.trim().toLowerCase();
        const feedback = document.createElement("div");
        feedback.className = "feedback";

        if (correct) {
          if (valor === correct) {
            correctas++;
            feedback.classList.add("correct");
            feedback.innerHTML = "âœ” Â¡Correcto!";
          } else {
            feedback.classList.add("incorrect");
            feedback.innerHTML = `âœ– Incorrecto. Respuesta correcta: <em>${p.dataset.correct}</em>`;
          }
          p.parentNode.appendChild(feedback);
        }
      });

      // Checkbox mÃºltiple (pregunta 5)
      const checks = [...form.querySelectorAll("input[name='q5']:checked")].map(c => c.value);
      const correctasQ5 = ["informaciÃ³n", "comunicaciÃ³n"];
      const correcta = checks.length === correctasQ5.length && correctasQ5.every(r => checks.includes(r));
      const divQ5 = form.querySelector("input[name='q5']").closest(".card-body");
      const feedbackQ5 = document.createElement("div");
      feedbackQ5.className = "feedback";
      if (correcta) {
        correctas++;
        feedbackQ5.classList.add("correct");
        feedbackQ5.textContent = "âœ” Â¡Correcto!";
      } else {
        feedbackQ5.classList.add("incorrect");
        feedbackQ5.innerHTML = "âœ– Incorrecto. DebÃ­as seleccionar: <em>" + correctasQ5.join(", ") + "</em>";
      }
      divQ5.appendChild(feedbackQ5);

      const porcentaje = Math.round((correctas / total) * 100);
      const resultado = porcentaje >= 70 
        ? `<span class="text-success">ðŸŽ‰ Â¡Muy bien! Obtuviste ${correctas}/${total} (${porcentaje}%)</span>`
        : `<span class="text-danger">ðŸ˜• Obtuviste ${correctas}/${total} (${porcentaje}%). Â¡Sigue practicando!</span>`;

      document.getElementById("resultFinal").innerHTML = resultado;
      if (porcentaje >= 60) {
        document.getElementById("nextCourse").style.display = "block";
      }
    });
  </script>
</body>
</html>
